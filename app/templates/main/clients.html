{% extends "base.html" %}
{% block body %}
<h1>Tous les clients</h1>
  <table>
    <thead>
      <tr>
        <th>ID</th>
        <th>Nom</th>
        <th>Prénom</th>
        <th>Email</th>
        <th>Siret</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      {% for client in clients %}
        <tr>
          <form method="POST" action="{{ url_for('modifier_client', id=client[0]) }}">
            <td>{{ client[0] }}</td>
            <td><input type="text" name="nom_client" value="{{ client[1] }}" required></td>
            <td><input type="text" name="prenom_client" value="{{ client[2] }}" required></td>
            <td><input type="email" name="email_client" value="{{ client[3] }}" required></td>
            <td><input type="text" name="siret" value="{{ client[6] }}" required></td>
            <td>
              <button type="submit" class="btn btn-primary">Modifier</button>
            </td>
          </form>
          <form method="POST" action="{{ url_for('supprimer_client', id=client[0]) }}" onsubmit="return confirm('Êtes-vous sûr de vouloir supprimer ce client ?')">
            <td>
              <button type="submit" class="btn btn-danger">Supprimer</button>
            </td>
          </form>
        </tr>
      {% endfor %}
    </tbody>
  </table>

<h1>Ajouter un client</h1>
  <form method="post" action="{{ url_for('add_client') }}">
    <div class="form-group">
      <label for="nom">Nom</label>
      <input type="text" class="form-control" id="nom" name="nom" required>
    </div>
    <div class="form-group">
      <label for="prenom">Prénom</label>
      <input type="text" class="form-control" id="prenom" name="prenom" required>
    </div>
    <div class="form-group">
      <label for="adresse">Adresse</label>
      <input type="text" class="form-control" id="adresse" name="adresse" required>
    </div>
    <div class="form-group">
      <label for="siret">Siret</label>
      <input type="text" class="form-control" id="siret" name="siret" required>
    </div>
    <div class="form-group">
      <label for="telephone">Téléphone</label>
      <input type="text" class="form-control" id="telephone" name="telephone" required>
    </div>
    <div class="form-group">
      <label for="email">Email</label>
      <input type="email" class="form-control" id="email" name="email" required>
    </div>
    <button type="submit" class="btn btn-primary">Ajouter</button>
  </form>
{% endblock %}